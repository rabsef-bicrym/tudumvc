{"version":3,"sources":["components/Footer.js","hooks/useInput.js","hooks/useOnEnter.js","utils.js","reducers/useTodos.js","containers/TodoItem.js","hooks/useDoubleClick.js","containers/TodoList.js","App/App.js","serviceWorker.js","hooks/useApi.js","index.js"],"names":["Footer","react_default","a","createElement","className","href","useInput","defaultValue","_useState","useState","_useState2","Object","slicedToArray","value","setValue","useCallback","event","target","useOnEnter","callback","inputs","key","preventDefault","guid","s4","Math","random","toString","substring","concat","newTodo","label","done","id","trim","reducer","deleteTodo","state","filter","i","addTodo","toConsumableArray","setDone","map","objectSpread","setLabel","toggleDone","globalReducer","JSON","parse","localStorage","getItem","todos","setItem","stringify","TodoItem","props","todo","_useState3","_useState4","_useState5","_useState6","editing","setEditing","urb","api","onDelete","num","poke","app","mark","json","remove-task","ship","parseInt","onDone","mark-complete","handleViewClick","onClick","onDoubleClick","timeout","clicks","_len","arguments","length","rest","Array","_key","push","Date","getTime","clearTimeout","setTimeout","apply","useDoubleClick","finishedCallback","console","log","edit-task","onEnter","ref","useRef","useOnClickOutside","type","checked","onChange","autoFocus","onKeyPress","TodoList","router","useRouter","setLocalTodos","fullTodos","setFullTodos","subList","setSubList","_useState7","_useState8","selected","setSelected","useEffect","subscribe","path","data","tempSubs","keys","document","getElementById","selectedIndex","left","useMemo","reduce","p","c","visibleTodos","match","params","anyDone","some","allSelected","every","onToggleAll","forEach","onClearCompleted","_useInput","_useInput2","newValue","onNewValueChange","setNewValue","onAddTodo","add-task","_useInput3","_useInput4","newSub","onNewSubChange","setNewSub","onAddSub","sub","Fragment","placeholder","htmlFor","react_router","render","assign","style","paddingRight","selection","item","react_router_dom","exact","to","activeClassName","App","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","useApi","memoize","asyncToGenerator","regenerator_default","_callee","wrap","_context","prev","next","Urbit","authenticate","url","code","verbose","sent","abrupt","stop","this","root","ReactDOM","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.b07ed466.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"info\">\n      <p>Double-click to edit a todo</p>\n      <p>\n        Created by <a href=\"http://github.com/jacob-ebey/\">jacob-ebey</a>\n      </p>\n      <p>\n        Part of <a href=\"http://todomvc.com\">TodoMVC</a>\n      </p>\n    </footer>\n  );\n}\n","import { useCallback, useState } from \"react\";\n\nexport default function useInput(defaultValue) {\n  const [value, setValue] = useState(defaultValue || \"\");\n\n  const onChange = useCallback(event => {\n    setValue(event.target.value);\n  });\n\n  return [value, onChange, setValue];\n}\n","import { useCallback } from \"react\";\n\nexport default function useOnEnter(callback, inputs) {\n  return useCallback(event => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n      callback(event);\n    }\n  }, inputs);\n}\n","export function guid() {\n  var s4 = () => {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n  };\n\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n}\n","import { globalReducer } from \"react-hook-utils\";\n\nimport { guid } from \"../utils\";\n\nexport const newTodo = label => ({\n  done: false,\n  id: guid(),\n  label: (label || \"\").trim()\n});\n\nexport const reducer = {\n  // Delete a todo by id\n  deleteTodo: (state, id) => state.filter(i => i.id !== id),\n\n  // Create a new item\n  addTodo: (state, label) => [newTodo(label), ...state],\n\n  // Set the done state of an item\n  setDone: (state, id, done) =>\n    state.map(i =>\n      i.id === id\n        ? {\n            ...i,\n            done\n          }\n        : i\n    ),\n\n  // Set the label of an item\n  setLabel: (state, id, label) =>\n    state.map(i =>\n      i.id === id\n        ? {\n            ...i,\n            label\n          }\n        : i\n    ),\n\n  // Toggle an item done\n  toggleDone: (state, id) =>\n    state.map(i =>\n      i.id === id\n        ? {\n            ...i,\n            done: !i.done\n          }\n        : i\n    )\n};\n\nexport default globalReducer(\n  // Load todos from local storage\n  JSON.parse(localStorage.getItem(\"todos\") || \"[]\"),\n  reducer,\n  // On state change, persist to local storage\n  todos => localStorage.setItem(\"todos\", JSON.stringify(todos))\n);\n","import React, { useCallback, useRef, useState } from \"react\";\nimport useOnClickOutside from \"use-onclickoutside\";\n\nimport useDoubleClick from \"../hooks/useDoubleClick\";\nimport useOnEnter from \"../hooks/useOnEnter\";\nimport useTodos from \"../reducers/useTodos\";\n\nexport default function TodoItem(props) {\n  const [label, setLabel] = useState(props.todo.label);\n\n  const [id, setID] = useState(props.todo.id);\n  \n  const [editing, setEditing] = useState(false);\n\n  const urb = props.api;\n\n  const deleteTodo = (num) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-frontend', json: {'remove-task': {'ship': props.ship, 'id': parseInt(num)}}})\n  };\n\n  const toggleDone = (num) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-frontend', json: {'mark-complete': {'ship': props.ship, 'id': parseInt(num)}}})\n  };\n\n  const onBlur = () => {\n    console.log(`setting urbit state to ${label} for task ${id}`);\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-frontend', json: {'edit-task': {'ship': props.ship, 'id': parseInt(id), 'label': label}}})\n  };\n\n  const onDelete = useCallback(() => deleteTodo(id), [id]);\n  const onDone = useCallback(() => toggleDone(id), [id]);\n  const onChange = event => {\n    setLabel(event.target.value);\n  };\n\n  const handleViewClick = useDoubleClick(null, () => setEditing(true));\n  const finishedCallback = useCallback(\n    () => {\n      onBlur();\n      setEditing(false);\n    },\n    [label]\n  );\n\n  const onEnter = useOnEnter(finishedCallback, [label]);\n  const ref = useRef();\n  useOnClickOutside(ref, finishedCallback);\n\n  return (\n    <li\n      onClick={handleViewClick}\n      className={`${editing ? \"editing\" : \"\"} ${props.todo.done ? \"completed\" : \"\"}`}\n    >\n      <div className=\"view\">\n        <input\n          type=\"checkbox\"\n          className=\"toggle\"\n          checked={props.todo.done}\n          onChange={onDone}\n          autoFocus={true}\n        />\n        <label>{label}</label>\n        <button className=\"destroy\" onClick={onDelete} />\n      </div>\n      {editing && (\n        <input\n          ref={ref}\n          className=\"edit\"\n          value={label}\n          id={id}\n          // On change needs to happen component local\n          // on blur needs to send to urbit\n          onChange={onChange}\n          onKeyPress={onEnter}\n        />\n      )}\n    </li>\n  );\n}\n","export default function useDoubleClick(onClick, onDoubleClick) {\n  let clicks = [];\n  let timeout;\n\n  return (event, ...rest) => {\n    clicks.push(new Date().getTime());\n\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      if (\n        clicks.length > 1 &&\n        clicks[clicks.length - 1] - clicks[clicks.length - 2] < 250\n      ) {\n        if (onDoubleClick) {\n          onDoubleClick(event, ...rest);\n        }\n      } else if (onClick) {\n        onClick(event, ...rest);\n      }\n      clicks = [];\n    }, 250);\n  };\n}\n","import React, { useCallback, useMemo, useState, useEffect } from \"react\";\nimport { NavLink, Route } from \"react-router-dom\";\nimport useRouter from \"use-react-router\";\n\nimport useInput from \"../hooks/useInput\";\nimport useOnEnter from \"../hooks/useOnEnter\";\nimport useTodos from \"../reducers/useTodos\";\nimport TodoItem from \"./TodoItem\";\n\nexport default function TodoList(props) {\n  const router = useRouter();\n\n  const [todos, setLocalTodos] = useState([]);\n  const [fullTodos, setFullTodos] = useState([]);\n  const [subList, setSubList] = useState([]);\n  const [selected, setSelected] = useState([0])\n\n  // Here we're importing the Urbit API from useApi which was passed as a prop\n  // to this component/container\n  const urb = props.api\n\n  // And here we're subscribing to our Urbit app and setting our listening\n  // path to '/mytasks'\n  useEffect(() => { const sub = urb.subscribe({ app: 'tudumvc', path: '/mytasks', event: data => {\n    var tempSubs = [];\n    setFullTodos(data);\n\n    Object.keys(data).map((key) => {\n      tempSubs.push([key, Object.keys(data[parseInt(key)])[0]]);\n      return true;\n    });\n    setSubList(tempSubs);\n    setLocalTodos(data[document.getElementById(\"partner\").selectedIndex][tempSubs[document.getElementById(\"partner\").selectedIndex][1]])\n  }}, [fullTodos, subList, todos])\n  }, []);\n\n  // We've added \"deleteTodo\" and \"addTodo\"\n  const deleteTodo = (num) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-frontend', json: {'remove-task': {'ship': subList[selected][1], 'id': parseInt(num)}}})\n  };\n\n  const addTodo = (label) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-frontend', json: {'add-task': {'ship': subList[selected][1], 'label': label}}})\n  };\n\n  const setDone = (num) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-action', json: {'mark-complete': {'ship': subList[selected][1], 'id': parseInt(num)}}})\n  };\n\n  const addSub = (sub) => {\n    urb.poke({app: 'tudumvc', mark: 'tudumvc-action', json: {'sub': sub}})\n  }\n\n  const left = useMemo(() => todos.reduce((p, c) => p + (c.done ? 0 : 1), 0), [\n    todos\n  ]);\n\n  const visibleTodos = useMemo(\n    () =>\n      router.match.params.filter\n        ? todos.filter(i =>\n            router.match.params.filter === \"active\" ? !i.done : i.done\n          )\n        : todos,\n    [todos, router.match.params.filter]\n  );\n\n  const anyDone = useMemo(() => todos.some(i => i.done), [todos]);\n  const allSelected = useMemo(() => visibleTodos.every(i => i.done), [\n    visibleTodos\n  ]);\n\n  const onToggleAll = useCallback(\n    () => {\n      visibleTodos.forEach(i => setDone(i.id, !allSelected));\n    },\n    [visibleTodos, allSelected]\n  );\n\n  const onClearCompleted = useCallback(\n    () => {\n      todos.forEach(i => {\n        if (i.done) {\n          deleteTodo(i.id);\n        }\n      });\n    },\n    [todos]\n  );\n\n  const [newValue, onNewValueChange, setNewValue] = useInput();\n  const onAddTodo = useOnEnter(\n    () => {\n      if (newValue) {\n        console.log(newValue)\n        addTodo(newValue);\n        setNewValue(\"\");\n      }\n    },\n    [newValue]\n  );\n\n  const [newSub, onNewSubChange, setNewSub] = useInput();\n  const onAddSub = useOnEnter(\n    () => {\n      if (newSub) {\n        addSub(newSub);\n        setNewSub(\"\");\n      }\n    },\n    [newSub]\n  );\n\n  function subSelect (event) {\n    console.log(event.target.value)\n    setSelected(event.target.value)\n    var selection = subList[event.target.value]\n    setLocalTodos(fullTodos[selection[0]][selection[1]])\n  }\n\n  const {api} = props;\n  return (\n    <React.Fragment>\n      <header className=\"header\">\n        <h1>{\n            (typeof subList[selected] == 'undefined') ? 'Loading...'\n            : `${subList[selected][1]}'s todos`\n          }</h1>\n\n        <input\n          className=\"new-todo\"\n          placeholder=\"What needs to be done?\"\n          onKeyPress={onAddTodo}\n          value={newValue}\n          onChange={onNewValueChange}\n        />\n      </header>\n\n      <section className=\"main\">\n        <input\n          id=\"toggle-all\"\n          type=\"checkbox\"\n          className=\"toggle-all\"\n          checked={allSelected}\n          onChange={onToggleAll}\n        />\n        <label htmlFor=\"toggle-all\" />\n        <ul className=\"todo-list\">\n        {visibleTodos && visibleTodos.map(todo => (\n            // Each item is an instance of Route and wants\n            // a key\n            <Route key={`todoItem-${selected}-${todo.id}`} render={(props) => {\n              return <TodoItem todo={todo} api={api} ship={subList[selected][1]} {...props}/>\n            }} />\n          ))}\n        </ul>\n      </section>\n      <section>\n        <span style={{paddingRight: \"30px\"}}>\n          <span style={{paddingRight: \"10px\"}}>Select Todo List:</span>\n          <select id=\"partner\" onChange={subSelect}>\n            {subList.map(item => {\n              return(<option key={parseInt(item[0])} value={item[0]}>{item[1]}</option>)\n            })}\n          </select>\n          </span>\n        <span>\n          <span style={{paddingRight: \"10px\"}}>\n            Subscribe to new partner:\n          </span>\n          <input \n            id=\"new-subscriber\"\n            type=\"text\"\n            className=\"new-Todo\"\n            onKeyPress={onAddSub}\n            value={newSub}\n            onChange={onNewSubChange}\n            >\n\n          </input>\n        </span>\n      </section>\n\n      <footer className=\"footer\">\n        <span className=\"todo-count\">\n          <strong>{left}</strong> items left\n        </span>\n        <ul className=\"filters\">\n          <li>\n            <NavLink exact={true} to=\"/\" activeClassName=\"selected\">\n              All\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/active\" activeClassName=\"selected\">\n              Active\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/completed\" activeClassName=\"selected\">\n              Completed\n            </NavLink>\n          </li>\n        </ul>\n        {anyDone && (\n          <button className=\"clear-completed\" onClick={onClearCompleted}>\n            Clear completed\n          </button>\n        )}\n      </footer>\n\n    </React.Fragment>\n  );\n}\n\n","import React from \"react\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport \"todomvc-app-css/index.css\";\n\nimport Footer from \"../components/Footer\";\nimport TodoList from \"../containers/TodoList\";\n\n// We've added props to what App.js receives\n//\nexport default function App(props) {\n  // And we're creating a const object of api from that prop\n  // Further - in the return, below, we're passing the unpacked version\n  // of props, and the api to TodoList.js\n  //\n  const {api} = props;\n  return (\n    <HashRouter>\n      <React.Fragment>\n        <div className=\"todoapp\">\n        <Route key=\"my-route\" path=\"/:filter?\" render={(props) => {\n            return <TodoList api={api} {...props} />\n        }} />\n        </div>\n        <Footer />\n      </React.Fragment>\n    </HashRouter>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import Urbit from \"@urbit/http-api\";\nimport { memoize } from 'lodash';\n\n// Memoize records (for the session) the information retrieved from Urbit.authenticate\n// which is the return of the promise of authentication; basically an API token that we\n// can use later for poke and subscribe actions\n//\n// Note, also, that you can change the ship against which you authenticate using the \n// ship name, url, and code arguments in the authenticate element below\n//\nconst useApi = memoize(async () => {\n    const urb = await Urbit.authenticate({ ship: 'nus', url: '138.197.192.56', code: 'bortem-pinwyl-macnyx-topdeg', verbose: true});\n    return urb;\n});\n\nexport default useApi;","import \"core-js/es6/map\";\nimport \"core-js/es6/set\";\nimport \"raf/polyfill\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n// We're adding airlock's useApi functionality here:\nimport useApi from \"./hooks/useApi\";\n\nconst root = document.getElementById(\"root\");\n\n// We need to make the React.DOM asynchronously await the completion of the promise\n// of useApi (defined in useApi.js) and then we pass it as a prop to /App/App.js\n//\n(async () => {\n    const api = await useApi();\n    ReactDOM.render(<App api={api} />, root);\n})();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}